puts "Enter degrees"
degree = Float(gets) rescue nil
exit if degree.nil?

puts "Enter the name of the scale used"
used_scale = gets.chomp
exit if used_scale.nil? or used_scale.empty?

puts "Enter the name of the desired scale"
need_scale = gets.chomp
exit if need_scale.nil? or need_scale.empty?

case used_scale
when "C", "c"
  case need_scale
  when "K", "k"
    degree += 273.15
  when "F", "f"
    degree = degree * 9 / 5 + 32
  else
    abort "Unknown scale #{ need_scale }"
  end
when "K", "k"
  case need_scale
  when "C", "c"
    degree -= 273.15
  when "F", "f"
    degree = (degree - 273.15) * 9 / 5 + 32
  else
    abort "Unknown scale #{ need_scale }"
  end
when "F", "f"
  case need_scale
  when "C", "C"
    degree = (degree -32) * 5 / 9
  when "K", "k"
    degree = (degree - 32) * 5 / 9 + 273.15
  else
    abort "Unknown scale #{ need_scale }"
  end
else
  abort "Unknown scale #{ used_scale }"
end

puts "result:"
puts degree
